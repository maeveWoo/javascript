# Introduction to the server side

## What is server-side website programming?
웹 브라우저는 웹서버와 HTTP를 이용해 소통한다.
사용자가 웹 페이지의 링크를 클릭, form 제출, 검색 실행을 할때 HTTP 요청은 사용자의 브라우저에서 대상 서버에게 보내진다.

요청은 중요한 리소스를 구분하는 URL, 요청 동작(get, post..) 메서드 그리고 URL파라미터(field-value 쌍이 query strung형태로)에 인코딩된 추가적인 정보, POST일땐 데이터 또는 연관된 쿠키들도 포함한다.

웹 서버는 클라이언트의 요청 메세지를 기다리고, 도착했을때 이를 진행한다.
그리고, 웹브라우저에 HTTP 응답 메시지와 함께 응답한다.
이 응답은 요청의 실패, 성공여부를 나타내는 상태 라인을 포함한다.

요청의 성공적인 응답의 body는 웹 브라우저를 통해 보여지는 요청 리소스를 포함한다. 

### Static sites
아래 다이어그램은 static 사이트의 기본 웹 서버 아키텍처를 보여준다.
(static site는 부분적인 리소스가 요청되어도 서버호부터 반환된 같은 하나의 하드-코드된 컨텐츠이다.) 
사용자가 네비게이트 페이지를 원핼때, 브라우저는 그 URL을 구체화한 HTTP "GET"요청을 보낸다.

서버는 파일시스템으로 부터 문서의 요청을 응답한다.  그리고, 문서와 성공 상태를 포함한 HTTP 응답을 반환한다. 어떤 이유로, 파일을 들고올 수 없을때, 에러 상태가 반환된다.

![Basic static site](../../img/basic_static_app_server.png)

### Dynamic site
동적 웹사이트는 팔요할때, 응답의 컨텐츠의 일부분이 동적으로 생성된다.
동적 웹사이트의 HTML 페이지는 일반적으로 데이터베이스로부터 HTML 템플릿에 placeholer에 삽입되어 생성된다. (이는 많은 양의 컨텐츠를 저장하는 static 웹사이트에 비해 더 효율적이다.)

동적인 사이트는 사용자나 저장된 선호내용을 통해 제공된 정보를 기반해서 URL에대해 다른 데이터를 반환할 수 있다.
그리고, 응답의 반환으로 다른 연산이 실행될 수 있다.

코드의 대부분은 동적 웹사이트를 지원하기위해 서버에서 실행되야한다.
만들어지는 코드는 "server-side programming"으로 알려졌다.(가끔 "Back-end scripting"이라 부른다.)


아래 다이어그램은 간단한 동적 웹사이트를 보여준다. 

static resource에대한 요청은 static site와 같은 방법으로 다워진다.
![dynamic website](../../img/web_application_with_html_and_steps.png)


동적인 resource에 대한 요청은 (2)로 나간다. 서버로 보내는 "Dynamic 요청"은 요청을 인터프린트해, (3)데이터베이스로부터 필요한 정보를 읽는다.
(4)HTML 템플릿과 응답 데이터의 조합하고, (5,6) 생성된 HTML을 포함한 응답을 전송한다.

## 서버사이트와 클라이언트사이드 프로그래밍은 같을까?
각 경우에서, 코드는 상당히 다르다.
- 얘들은 목적과 의도가 다르다.
- 얘들은 일반적으로 같은 프로그래밍 언어를 쓰지 않는다.
- 얘들은 다른 OS환경에서 실행된다.

클라이언트 사이드 코드는 브라우저에서 실행되고, 얘는 주로 겉치래나, 랜더된 웹페이지의 행동을 향상시키기위해 고려된다. 얘는 UI 컴포넌트의 의 선택과 스타일링, 레이아웃 생성, 네이베이션, form 정합성 등을 포함한다.

서버 사이드 웹페이지 프로그램은 주로 브라우저의 요청과 응답을 컨텐츠를 반환하시 위해, 선택된다. 얘는 제출된 데이터와 요청의 유효성검사를 주로 다루고, 데이터 베이스를 이용해, 저장, 클라이언트의 요청에대한 데이터 모음을 보낸다.

클라이언트 사이드는 HTML, CSS, JS를 이용해 작성되고, 이는 웹 브라우저 내부에서 실행한다. 그리고, OS에 거의 접근하지 않는다.

모든 사용자가 웹사리드를 보는 어떤 브라우저든 웹 개발자는 브라우저를 핸들링할 수 없다. 일관성없는 수준의 브라우저가 공존한다. 클라이언트 사이드 프로그래밍의 어려운 부분은 브라우저의 다른 지원을 우아하게 다루는 것이다. 

서버 사이드 코드는 많은 프로그래밍 언어로 작성될 수 있다. 
서버 사이드 코드는 서버의 OS에 완전 접근한다. 그리고 개발자는 프로그래밍 언어와 버전을 원하는데로 선택할 수 있다.

일부 개발자는 웹 프레임워크를 사용해 코드를 작성한다.
웹 프레임워크는 일반적인 문제와, 개발의 속도와 일부 도메인에서 마주치는 다른종류의 과제를 간단하게하기 하기위해 디자인된 함수와 객체, 규칙 그리고 다른 코드 구조의 집합니다.

다시말해, 두 놈들의 도메인은 아주 다르다. 
클라이언트 사이드 웹 프레임워크는 레이아웃을 간단히하고, 서버 사이드 웹 프레임워크가 많은 "일반" 웹 서버 기능을 제공할 동안, 과제를 보여준다.
이 일반 웹 서버 기능은 사용자가 구현해야한다. (세션자원, 사용자를 위한 인증 지원, 쉬운 데이터베이스 접근, 템플릿 라이브러리 등.)

## 서버 사이드에서 할 수 있는것?
서버 사이드 프로그래밍은 개인에게 제단된 정보를 효과적으로 제공할 수 있게하기 때문에 유용하다. 따라서 사용자는 더 좋은 사용자 경험을 만든다.

아마존 같은 회사는 제품의 검색, 클라이언트 퍼포먼스를 기반으로한 지정된 상품 추천, 구매 습관 미리보기, 간단한 구매 등을 구성하기위해 서버사이드 프로그래밍을 사용한다.

### 효과적인 저장과 정보의 제공
아마존에서 얼마나 많은 상품이 있는지 상상해봐라, 페이스북은 얼마나 많은 포스트들이 써질까? 각 상품이나 포스트를 의해 구분된 고정 페이지를 생성하는 것은 완전히 실행불가이다.

서버 사이드 프로그래밍은 정보를 데이터베이스에 저장저장하고, 동적으로 생성하고, HTML, 다른 유형의 파일을 반환할 수 있게한다. 
또, 아마 클라이언트 사이드 웹 프레임워크를 통해 랜더링하기위해 데이터를 반환할 수 도있다. 

서버는 데이터베이스로부터 정보를 보내는데 제한이 없고, 소프트웨어 툴의 결과나 커뮤니케이션 서비스릐 데이터의 결과를 반환하는 방법도 있다. 
이 컨텐츠는 클라이언트 장치의 유형에따라 맞춰질 수 있다.

데이터베이스의 정보는, 다른 비즈니스 시스템에서  쉽게 공유될 수 있고, 
수정할 수 있다.

### Customized UX
서버는 클라이언트의 편의와 맞춤 UX를 제공하기 위해 클라이언트의 정보를 저장하거나 사용할 수 있다. 
예를들어, 많은 사이트들이 신용카드를 저장해, 다시 입력할 필요를 없게한다.

더 나아가서, 사용자의 습관의 분석은 흥미거리를 계측하는게 사용할 수 있고, 나아가 응답과 알림를 커스텀할 수 있다.

### Controlled 컨텐츠 접근
서버 사이드 프로그래밍은 인가된 유저의 접근을 통제할 수 있고, 유저에게 볼 수 있게 허용된 정보만을 전달한다.

### session/state 정보 저장
서버 사이드 프로그래밍은 개발자에서 세션사용을 할 수 있게한다.
- 최근 유저의 사이트 정보를 저장하고, 이 정보를 기반으로 다른 응답을 보내는 메커니즘
  
예에서 이는 사이트가 사용자의 이전 접속기록을 알 수 있게하고, 이메일이나, 이전 기록, 아마 저장된 간단한 게임의 상태 저장을 연결함으로써, 사용자는 사이트에 다시 접근할 수 있게하고 그들이 남긴 정보를 계속 사용할 수 있게한다.

### 알림과 소통
서버는 자신의 웹사이트나 이메일, SMS, 메시징, 비디오 대화, 또는 다른 소통 서비스를 통해 전체또는 특정 사용자에게 알림을 보낼 수 있다.

### 데이터 분석
웹 사이트는 사용자에대한 많은 데이터를 모을 것이다.
뭘 샀는지, 뭘 추천했는지, 각 페이지에서 얼마나 머물렀는지. 
서버 사이드 프로그래밍은 이 데이터의 분석에 기반해 응답값을 정제할 수 있다.